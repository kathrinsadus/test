// -----------------------------
// Language pack
// -----------------------------
const translations = {
  de: {
    // nav
    home: "Home",
    info: "Wissenswertes",
    schedule: "Ablauf",
    team: "Team",

    // welcome (Startseite)
    "welcome-heading": "Hallo, willkommen!",
    "welcome-text": `Wir freuen uns sehr, dass du am 18. April 2026 mit uns feiern wirst.<br>
                    Auf dieser Website findest du alle wichtigen Informationen: vom Ablauf über die Location bis zu Anreise- und Übernachtungsmöglichkeiten.
                    Schau also gerne immer mal wieder vorbei.
                    Und falls du Fragen hast, melde dich einfach bei uns, wir helfen gerne weiter.<br>
                    Wir können es kaum erwarten, unsere Hochzeit mit euch zu feiern!<br><br>
                    <b>Eure Mäuse, Kathrin & Fabian</b>`,

    // location page
    "location-heading": "Wo müsst ihr hin?",
    "location-description": `Die Adresse lautet:<br>
    Außerhalb 1 <br>
    69239 Neckarsteinach <br><br>
    Ihr könnt euch die <a class="intext_link" href="https://tour.hoher-darsberg.de/">Location</a> vorab gerne einmal ansehen.<br>`,
    "location-car-heading": "Anreise mit dem Auto<br>",
    "location-car": `Gebt im Navi als Ziel am <b>besten Darsbergerstraße 127</b> ein.
      Die Einfahrt befindet sich auf der linken Seite. Es stehen reichlich Parkplätze zur Verfügung.
      Die Location bietet außerdem Schlafplätze an. Falls ihr gerne über Nacht bleiben möchtet, gebt uns bitte über die Umfrage Bescheid, damit wir entsprechend planen können.`,
    "location-bus-heading": "Anreise mit der Bahn<br>",
    "location-bus": "Wenn ihr mit den öffentlichen Verkehrsmitteln anreisen wollt, könnt ihr die S-Bahnen (S1 und S2) nach Neckarsteinach nehmen. Gebt uns gerne Bescheid, damit wir euch helfen können, komfortabel zur Location zu kommen.",

    // timetable / schedule
    "page-title": "Ablauf",
    "schedule-heading": "Ablauf",
    "preevent-title": "Beisammensein",
    "preevent-text": "Für diejenigen, die bereits am Freitag anreisen, planen wir ein kleines Beisammensein.<br>Ort und Uhrzeit veröffentlichen wir hier noch. Ansonsten freuen wir uns darauf, euch am Samstag am Hohen Darsberg zu begrüßen.",
    "event-arrival-title": "Ankunft",
    "event-arrival-text": "Snacks und Drinks schnappen und bei Bedarf schon die Zimmer beziehen.",
    "event-ceremony-title": "Freie Trauung",
    "event-ceremony-text": "Zeremonie im Garten mit Standesamt und Thilo.",
    "event-reception-title": "Sektempfang",
    "event-reception-text": "Gläser hoch, Häppchen rein.",
    "event-dinner-title": "Abendessen",
    "event-dinner-text": "Mood for food.",
    "event-party-title": "Party",
    "event-party-text": "Mit musikalischen Beiträgen vom Sacred Cats Collective.",
    "event-party2-title": "Party 2.0",
    "event-party2-text": "Für alle, die noch Energie haben."
  },

  en: {
    // nav
    home: "Home",
    info: "Information",
    schedule: "Schedule",
    team: "Team",

    // welcome
    "welcome-heading": "Hi, welcome!",
    "welcome-text": `We are so happy that you will celebrate with us on April 18, 2026.<br>
     On this website you will find all the important information: from the schedule and the location to travel and accommodation options.
     Feel free to check back from time to time.
     If you have any questions, just reach out to us.<br>
     We can hardly wait to celebrate our wedding with you!<br><br>
     <b>Kathrin & Fabian</b>`,

    // location page
    "location-heading": "Where should you go?",
    "location-description": `The address is:<br>
      Außerhalb 1 <br>
      69239 Neckarsteinach <br><br>
      You can take a look at the <a class="intext_link" href="https://tour.hoher-darsberg.de/">venue</a> in advance.<br>`,
    "location-car-heading": "Arrival by car<br>",
    "location-car": `For your satnav, it's best to enter <b>Darsbergerstraße 127</b>.
      The entrance is on the left-hand side. There is plenty of parking.
      The venue also offers rooms. If you’d like to stay overnight, please let us know via the survey so we can plan accordingly.`,
    "location-bus-heading": "Arrival by train<br>",
    "location-bus": "You can take the S-Bahn (S1 or S2) to Neckarsteinach. Let us know and we’ll help you get to the venue comfortably.",

    // timetable / schedule
    "page-title": "Schedule",
    "schedule-heading": "Schedule",
    "preevent-title": "Get-together",
    "preevent-text": "For those arriving on Friday, we’re planning a small get-together.<br>We’ll post the place and time here. Otherwise, we look forward to welcoming you on Saturday at Hohen Darsberg.",
    "event-arrival-title": "Arrival",
    "event-arrival-text": "Grab some snacks and drinks and, if you like, check into your room.",
    "event-ceremony-title": "Ceremony",
    "event-ceremony-text": "Garden ceremony with the registrar and Thilo.",
    "event-reception-title": "Reception",
    "event-reception-text": "Raise a glass and enjoy some bites.",
    "event-dinner-title": "Dinner",
    "event-dinner-text": "Mood for food.",
    "event-party-title": "Party",
    "event-party-text": "With musical contributions from the Sacred Cats Collective.",
    "event-party2-title": "Afterparty",
    "event-party2-text": "For anyone still going strong."
  },

  pl: {
    // nav
    home: "Strona główna",
    info: "Informacje",
    schedule: "Plan dnia",
    team: "Zespół",

    // welcome
    "welcome-heading": "Cześć, witaj!",
    "welcome-text": `Jesteśmy ogromnie szczęśliwi, że będziesz świętować z nami 18 kwietnia 2026 roku!<br>
      Na tej stronie znajdziesz wszystkie najważniejsze informacje – od planu dnia i miejsca uroczystości po dojazd i noclegi.<br>
      Zachęcamy do regularnego odwiedzania strony, ponieważ treści będą na bieżąco aktualizowane.<br>
      Jeśli masz pytania, po prostu daj nam znać – z radością pomożemy.<br>
      Nie możemy się już doczekać wspólnego świętowania naszego ślubu!<br><br>
      <b>Kathrin &amp; Fabian</b>`,

    // location page
    "location-heading": "Dokąd powinniście iść?",
    "location-description": `Adres:<br>
      Außerhalb 1 <br>
      69239 Neckarsteinach <br><br>
      Miejsce możecie obejrzeć wcześniej: <a class="intext_link" href="https://tour.hoher-darsberg.de/">lokal</a>.<br>`,
    "location-car-heading": "Dojazd samochodem<br>",
    "location-car": `W nawigacji najlepiej wpisać <b>Darsbergerstraße 127</b>.
      Wjazd znajduje się po lewej stronie. Na miejscu jest dużo miejsc parkingowych.
      Obiekt oferuje też noclegi — jeśli chcesz zostać na noc, daj znać w ankiecie.`,
    "location-bus-heading": "Dojazd koleją<br>",
    "location-bus": "Możecie dojechać kolejką S-Bahn (S1 lub S2) do Neckarsteinach. Dajcie nam znać, a pomożemy wygodnie dotrzeć na miejsce.",

    // timetable / schedule
    "page-title": "Plan dnia",
    "schedule-heading": "Plan dnia",
    "preevent-title": "Spotkanie dzień wcześniej",
    "preevent-text": "Dla osób przyjeżdżających w piątek planujemy kameralne spotkanie.<br>Miejsce i godzinę podamy tutaj. W sobotę z radością powitamy Was na Hohen Darsberg.",
    "event-arrival-title": "Przyjazd",
    "event-arrival-text": "Przekąski i napoje czekają; w razie potrzeby można od razu się zakwaterować.",
    "event-ceremony-title": "Ceremonia",
    "event-ceremony-text": "Ceremonia w ogrodzie z urzędnikiem stanu cywilnego i Thilo.",
    "event-reception-title": "Toast",
    "event-reception-text": "Wznosimy kieliszki i serwujemy małe przekąski.",
    "event-dinner-title": "Kolacja",
    "event-dinner-text": "Czas na jedzenie!",
    "event-party-title": "Przyjęcie",
    "event-party-text": "Z muzycznymi akcentami od Sacred Cats Collective.",
    "event-party2-title": "Afterparty",
    "event-party2-text": "Dla tych, którzy wciąż mają energię."
  }
};
// -----------------------------
// Helpers
// -----------------------------
const DEFAULT_LANG = "de";
const SUPPORTED = Object.keys(translations);

function normalizeLang(lang) {
  return SUPPORTED.includes(lang) ? lang : DEFAULT_LANG;
}

function setLanguage(lang) {
  const chosen = normalizeLang(lang);
  localStorage.setItem("lang", chosen);

  // reflect on <html lang="…">
  document.documentElement.setAttribute("lang", chosen);

  // replace all elements with data-key
  document.querySelectorAll("[data-key]").forEach((el) => {
    const key = el.getAttribute("data-key");
    const t = translations[chosen]?.[key];

    if (t === undefined || t === null) {
      // no translation -> leave original content
      return;
    }

    // Allow HTML in translations (for <br>, links, etc.)
    el.innerHTML = t;
  });

  // (Optional) highlight active flag if flags have data-lang attributes
  document.querySelectorAll(".language-selector [data-lang]").forEach((img) => {
    img.toggleAttribute("aria-current", img.getAttribute("data-lang") === chosen);
  });
}

function switchLanguage(lang) {
  setLanguage(lang);
}

// auto-init on load
document.addEventListener("DOMContentLoaded", () => {
  const saved = localStorage.getItem("lang") || DEFAULT_LANG;
  setLanguage(saved);


});